(this.webpackJsonptz=this.webpackJsonptz||[]).push([[0],{32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var r,c=a(0),s=a(14),n=a.n(s),i=a(4),d=a(3),o=a(10),l=a.p+"static/media/shopping-cart.c9ecf411.svg";!function(e){e.buy="ADD_TO_CART",e.add="ADD_ONE_TO_CART",e.remove="REMOVE_ONE_FROM_CART",e.reset="RESET"}(r||(r={}));var u,b=a(5),j=a(1),m=function(e){var t=e.image,a=e.name,c=e.price,s=e.isPurchased,n=e.id,i=Object(b.b)();return Object(j.jsxs)("div",{className:"main-card",children:[Object(j.jsx)("div",{className:"main-card__img",children:Object(j.jsx)("img",{src:t,alt:a})}),Object(j.jsx)("h3",{className:"main-card__title",children:a}),Object(j.jsxs)("div",{className:"main-card__price",children:["Price: ",c,"$"]}),s?Object(j.jsx)(o.b,{to:"/cart",className:"main-card__btn",children:"Place an order"}):Object(j.jsx)("button",{onClick:function(){return i((e={image:t,name:a,price:c,id:n,value:1},{type:r.buy,payload:e}));var e},className:"main-card__btn",children:"Add to cart"})]})},p=function(){var e=Object(b.c)((function(e){return e.products}));return Object(j.jsx)("main",{className:"main",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"main__link",children:Object(j.jsx)(o.b,{to:"/cart",children:Object(j.jsx)("img",{src:l,alt:"Cart"})})}),Object(j.jsx)("div",{className:"main-cards",children:e.products.map((function(e){return Object(c.createElement)(m,Object(d.a)(Object(d.a)({},e),{},{key:e.id}))}))})]})})};!function(e){e.setNumber="SET_NUMBER",e.setHolder="SET_HOLDER",e.setExpires="SET_EXPIRES",e.setCvv="SET_CVV",e.reset="RESET"}(u||(u={}));var h=function(e){return parseFloat(e.toFixed(1))},x=function(e){e({type:u.reset}),e({type:r.reset}),alert("Successfully bought! Thank you to visit our shop!")},f=function(e){switch(e){case 5:return"mc";case 2:return"mir";case 4:return"visa";default:return!1}},O=a(12),v=a.n(O),g=function(){var e=Object(b.c)((function(e){return e.card})),t=Object(c.useMemo)((function(){return function(e,t){for(var a="",r=0;r<2;r++){a+=t.expires[r]||"M"}a+="/";for(var c=3;c<5;c++){a+=t.expires[c]||"Y"}return a}(e.expires,e)}),[e.expires]);return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card__bank",children:f(parseInt(e.number[0]))?Object(j.jsx)("img",{src:"./img/".concat(f(parseInt(e.number[0])),".png"),alt:"Bank"}):null}),Object(j.jsx)("div",{className:"card-number",children:Object(j.jsx)(v.a,{mask:[/[1-9]/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/],placeholder:"#### #### #### ####",placeholderChar:"#",disabled:!0,value:e.number,className:"card-number__item"})}),Object(j.jsxs)("div",{className:"card-info",children:[Object(j.jsxs)("div",{className:"card-info-item",children:[Object(j.jsx)("h4",{className:"card-info-item__title",children:"Card Holder"}),e.holder?e.holder:"NAME LASTNAME"]}),Object(j.jsxs)("div",{className:"card-info-item",children:[Object(j.jsx)("h4",{className:"card-info-item__title",children:"Expires"}),t]})]})]})},y=function(){var e=Object(b.c)((function(e){return e.card})),t=Object(b.b)();return Object(j.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"card-form",children:[Object(j.jsxs)("fieldset",{children:["Card Number",Object(j.jsx)(v.a,{mask:[/[1-9]/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/],placeholderChar:"#",guide:!1,value:e.number,onChange:function(e){return t((a=e.target.value,{type:u.setNumber,payload:a}));var a},className:"card-form__input",type:"text"})]}),Object(j.jsxs)("fieldset",{children:["Card Holder",Object(j.jsx)("input",{value:e.holder,onChange:function(e){return t((a=e.target.value,{type:u.setHolder,payload:a}));var a},className:"card-form__input",type:"text",required:!0})]}),Object(j.jsxs)("div",{className:"card-form-row",children:[Object(j.jsxs)("fieldset",{children:["Expires",Object(j.jsx)(v.a,{mask:[/[0-9]/,/\d/,"/",/\d/,/\d/],value:e.expires,guide:!1,placeholder:"MM/YY",onChange:function(e){return t((a=e.target.value,{type:u.setExpires,payload:a}));var a},className:"card-form__input",type:"text",required:!0})]}),Object(j.jsxs)("fieldset",{children:["CVV",Object(j.jsx)(v.a,{guide:!1,value:e.cvv,mask:[/[0-9]/,/\d/,/\d/],onChange:function(e){return t((a=e.target.value,{type:u.setCvv,payload:a}));var a},className:"card-form__input",type:"password",required:!0})]})]})]})},_=function(e){var t=e.id,a=e.price,c=e.name,s=e.value,n=Object(b.b)();return Object(j.jsxs)("div",{className:"goods-item",children:[Object(j.jsx)("h5",{className:"goods-item__title",children:c}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"goods-item-counter",children:[Object(j.jsx)("button",{onClick:function(){return n((e={id:t,price:a,value:s,name:c,image:"",isPurchased:!0},{type:r.remove,payload:e}));var e},className:"goods-item-counter__btn",children:"-"}),s,Object(j.jsx)("button",{onClick:function(){return n((e={id:t,price:a,name:c,value:s,isPurchased:!0,image:""},{type:r.add,payload:e}));var e},className:"goods-item-counter__btn",children:"+"})]}),"Price: ",a,"$"]})]})},N=function(){var e=Object(b.c)((function(e){return e.products.cart}));return Object(j.jsx)("ul",{className:"goods",children:0===e.length?Object(j.jsx)("li",{className:"goods-item goods-item_empty",children:Object(j.jsx)(o.b,{to:"/",children:"Your Cart is empty! Go to home page to buy something!"})}):e.map((function(e){return Object(c.createElement)(_,Object(d.a)(Object(d.a)({},e),{},{key:e.id}))}))})},M=function(){var e=Object(b.c)((function(e){return e.products.cart})),t=Object(b.c)((function(e){return e.products.totalPrice})),a=Object(b.c)((function(e){return e.card})),r=a.expires,c=a.number,s=a.holder,n=a.cvv,i=Object(b.b)(),d=function(){(function(e){var t=e.expires,a=e.holder,r=e.number,c=e.cvv,s=parseInt(r[0]),n=parseInt(t.slice(0,2)),i=parseInt(t.slice(3,5)),d=a.trim();switch(s){case 4:case 5:case 2:break;default:return alert("Wrong type of card! We supported only Visa, MasterCard and Mir."),!1}return d.length>60||d.length<4?(alert("Information about holder is too long or too short! It must be shorter than 60 characters and bigger than 4 characters."),!1):n>12||i<21?(alert("Wrong month or year. Please check that month is less or equal 12 and year is 21 or bigger."),!1):c.length<3?(alert("Your cvv code is too short! It must be 3 characters."),!1):!(r.length<16)||(alert("Your card number is too short! It must be 16 characters."),!1)})({expires:r,number:c,holder:s,cvv:n})&&x(i)};return Object(j.jsxs)("div",{className:"cart",children:[Object(j.jsx)("div",{className:"container_small",children:Object(j.jsxs)("div",{className:"card-container",children:[Object(j.jsx)(g,{}),Object(j.jsx)(y,{})]})}),Object(j.jsxs)("div",{className:"container container_goods",children:[Object(j.jsx)(N,{}),e.length>0?Object(j.jsxs)("div",{className:"cart-info",children:[Object(j.jsxs)("h2",{children:["Total price: ",t,"$"]}),Object(j.jsx)("button",{onClick:function(){return d()},className:"cart-info__btn",children:"Buy"})]}):null]})]})},w=function(){return Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/cart",component:M}),Object(j.jsx)(i.a,{path:"/",component:p})]})},E=(a(32),a(16)),P=a(21),C={products:[{id:1,name:"Pineapple",price:5,image:"https://images.unsplash.com/photo-1490885578174-acda8905c2c6?ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8cGluZWFwcGxlfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",isPurchased:!1,value:0},{id:2,name:"MacBook",price:1e3,image:"https://images.unsplash.com/photo-1517059224940-d4af9eec41b7?ixid=MnwxMjA3fDB8MHxzZWFyY2h8N3x8YmxhY2slMjBhcHBsZXxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",isPurchased:!1,value:0},{id:3,name:"Pencil",price:.3,image:"https://images.unsplash.com/photo-1589278559766-6d2fc8520367?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTR8fHBlbmNpbHxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",isPurchased:!1,value:0},{id:4,name:"Banana",price:5,image:"https://images.unsplash.com/photo-1481349518771-20055b2a7b24?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8YmFuYW5hfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",isPurchased:!1,value:0},{id:5,name:"House",price:1e5,image:"https://images.unsplash.com/photo-1580587771525-78b9dba3b914?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8aG91c2V8ZW58MHx8MHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",isPurchased:!1,value:0}],cart:[],totalPrice:0},D={number:"",holder:"",expires:"",cvv:""},H=Object(E.a)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.buy:return{totalPrice:h(e.totalPrice+t.payload.price),products:e.products.map((function(e){return e.id===t.payload.id?Object(d.a)(Object(d.a)({},t.payload),{},{isPurchased:!0}):e})),cart:[].concat(Object(P.a)(e.cart),[t.payload])};case r.reset:return C;case r.remove:var a;return a=t.payload.value>1?e.cart.map((function(e){return e.id===t.payload.id?Object(d.a)(Object(d.a)({},t.payload),{},{value:e.value-1}):e})):e.cart.filter((function(e){return e.id!==t.payload.id})),{products:e.products.map((function(e){return e.id===t.payload.id?Object(d.a)(Object(d.a)({},e),{},{isPurchased:!1}):e})),totalPrice:h(e.totalPrice-t.payload.price),cart:a};case r.add:return Object(d.a)(Object(d.a)({},e),{},{totalPrice:h(e.totalPrice+t.payload.price),cart:e.cart.map((function(e){return e.id===t.payload.id?Object(d.a)(Object(d.a)({},e),{},{value:e.value+1}):e}))});default:return e}},card:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.setCvv:return Object(d.a)(Object(d.a)({},e),{},{cvv:t.payload});case u.setExpires:return Object(d.a)(Object(d.a)({},e),{},{expires:t.payload});case u.reset:return D;case u.setHolder:return Object(d.a)(Object(d.a)({},e),{},{holder:t.payload});case u.setNumber:return Object(d.a)(Object(d.a)({},e),{},{number:t.payload});default:return e}}}),k=Object(E.b)(H);n.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(b.a,{store:k,children:Object(j.jsx)(w,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.7e2598f2.chunk.js.map